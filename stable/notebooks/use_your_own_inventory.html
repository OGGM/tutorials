
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using your our own glacier inventory with OGGM &#8212; OGGM tutorials</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.da26317cf37e5c4af2fa3e6253912353.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="A quick look into the mass-balance calibration procedure" href="massbalance_calibration.html" />
    <link rel="prev" title="Merging glaciers for past climate simulations" href="merging_glaciers.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">OGGM tutorials</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="welcome.html">
   Welcome to the OGGM tutorials!
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Beginner tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting started with OGGM: a real case study, step by step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working_with_rgi.html">
   Working with the RGI files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="store_and_compress_glacierdirs.html">
   Storing glacier directories for later use
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="elevation_bands_vs_centerlines.html">
   OGGM centerlines versus elevation-band flowlines: a quick comparison
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plot_mass_balance.html">
   Plotting the OGGM surface mass-balance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="area_length_filter.html">
   Filter the glacier length and area time series
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="run_with_gcm.html">
   Run OGGM with GCM data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deal_with_errors.html">
   Dealing with errors after a run
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inversion.html">
   Ice thickness inversion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oggm_shop.html">
   OGGM-Shop and Glacier Directories in OGGM
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Advanced tutorials
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="preprocessing_errors.html">
   Error analysis of the global pre-processing workflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="run_with_a_spinup_and_gcm_data.html">
   Run with a spinup and GCM data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dem_sources.html">
   Create local topography maps from different DEM sources with OGGM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="thickness_model.html">
   A toy statistical model of ice thickness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inversion_with_frontal_ablation.html">
   Ice thickness inversion with frontal ablation: a case study
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kcalving_parameterization.html">
   The Oerlemans &amp; Nick frontal ablation parameterization in OGGM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="merging_glaciers.html">
   Merging glaciers for past climate simulations
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Using your our own glacier inventory with OGGM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="massbalance_calibration.html">
   A quick look into the mass-balance calibration procedure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="where_are_the_flowlines.html">
   OGGM flowlines: where are they?
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Others
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="holoviz_intro.html">
   Small overview of HoloViz capability of data exploration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dem_comparison.html">
   Compare different DEMs for individual glaciers
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/use_your_own_inventory.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/OGGM/tutorials"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/OGGM/tutorials/issues/new?title=Issue%20on%20page%20%2Fnotebooks/use_your_own_inventory.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/OGGM/tutorials/edit/master/./notebooks/use_your_own_inventory.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/OGGM/binder/master?urlpath=git-pull?repo=https://github.com/OGGM/tutorials%26amp%3Bbranch=master%26amp%3Burlpath=lab/tree/tutorials/./notebooks/use_your_own_inventory.ipynb%3Fautodecode"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://hub.oggm.org/hub/user-redirect/git-pull?repo=https://github.com/OGGM/tutorials&urlpath=lab/tree/tutorials/./notebooks/use_your_own_inventory.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tldr">
   TLDR;
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structure-of-an-rgi-file">
   Structure of an RGI file
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#case-1-dividing-a-glacier-into-smaller-entities">
   Case 1: dividing a glacier into smaller entities
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#make-a-new-rgi-file">
     Make a new “RGI file”
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compute-the-intersects">
     Compute the intersects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#finally-the-oggm-run">
     Finally: the OGGM run
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#case-2-merging-glaciers">
   Case 2: merging glaciers
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#original-rgi-outlines">
     Original RGI outlines
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#let-s-merge-these-two-outlines-using-geopandas">
     Let’s merge these two outlines using geopandas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rgi-attributes">
     RGI attributes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-oggm-with-this-new-glacier">
     Run OGGM with this new glacier
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#case-3-start-from-a-completely-independent-inventory">
   Case 3: start from a completely independent inventory
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-s-next">
   What’s next?
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="using-your-our-own-glacier-inventory-with-oggm">
<h1>Using your our own glacier inventory with OGGM<a class="headerlink" href="#using-your-our-own-glacier-inventory-with-oggm" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://www.glims.org/RGI/">The Randolph Glacier Inventory</a> is a key dataset to model glaciers at any scale: it includes outlines of the extent of each glacier in the world, an information that is critical in figuring out how much a particular glacier might contribute to rising sea level. These glacier outlines are the starting point of any simulation in OGGM. The RGI’s latest version (v6), as well as v5, are provided and supported by OGGM (see the <a class="reference external" href="https://oggm.readthedocs.io/en/latest/input-data.html#glacier-outlines-and-intersects">documentation</a>). However, there are <a class="reference external" href="https://rgitools.readthedocs.io/en/latest/known-issues.html">several issues</a> in the RGI that might make you want to use your own corrected glacier outlines.</p>
<p>This notebook describes how to feed OGGM with them. We will show you three case studies about how to give any geometry to OGGM and avoid errors of incompatibility between your shapefile and the model framework.</p>
<p>We have three case studies which should cover a number of applications:</p>
<ol class="simple">
<li><p><a class="reference external" href="#case1">Dividing a glacier into smaller entities</a> (common case, useful for poorly outlined glaciers, which are in reality separate dynamical entities)</p></li>
<li><p><a class="reference external" href="#case2">Merging two glaciers together</a> (useful for tidewater glaciers in particular, not much elsewhere)</p></li>
<li><p><a class="reference external" href="#case3">Start from a completely independent inventory</a></p></li>
</ol>
<div class="section" id="tldr">
<h2>TLDR;<a class="headerlink" href="#tldr" title="Permalink to this headline">¶</a></h2>
<p>If you want to use custom data to feed OGGM with, you should:</p>
<ul class="simple">
<li><p><strong>make a shapefile that resembles the RGI one: same attributes, and the glacier geometries should be in lon/lat projection</strong>. The most important attribute is <code class="docutils literal notranslate"><span class="pre">geometry</span></code>, of course, but others are used by OGGM as well: refer to <a class="reference external" href="https://docs.oggm.org/en/stable/input-data.html#glacier-outlines-and-intersects">the OGGM documentation</a> to decide which ones. The RGI documentation (found in the RGI directory after download) is useful as well!</p></li>
<li><p><strong>compute and use a new <a class="reference external" href="https://rgitools.readthedocs.io/en/latest/tools.html#glacier-intersects">glacier interesects</a> file</strong>, or make sure you don’t need one and disable this option in OGGM.</p></li>
</ul>
</div>
<div class="section" id="structure-of-an-rgi-file">
<h2>Structure of an RGI file<a class="headerlink" href="#structure-of-an-rgi-file" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">oggm</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">oggm</span> <span class="kn">import</span> <span class="n">cfg</span><span class="p">,</span> <span class="n">utils</span><span class="p">,</span> <span class="n">workflow</span><span class="p">,</span> <span class="n">tasks</span><span class="p">,</span> <span class="n">graphics</span>
<span class="kn">from</span> <span class="nn">oggm.core</span> <span class="kn">import</span> <span class="n">inversion</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">logging_level</span><span class="o">=</span><span class="s1">&#39;WARNING&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:56:54: oggm.cfg: Reading default parameters from the OGGM `params.cfg` configuration file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:56:54: oggm.cfg: Multiprocessing switched OFF according to the parameter file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:56:54: oggm.cfg: Multiprocessing: using all available processors (N=2)
</pre></div>
</div>
</div>
</div>
<p>Let’s read a file from the standard RGI:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_dir</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;61&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;/github/home/OGGM/rgi/RGIV61&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sh</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_region_file</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;61&#39;</span><span class="p">)</span>
<span class="n">sh</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;/github/home/OGGM/rgi/RGIV61/11_rgi61_CentralEurope/11_rgi61_CentralEurope.shp&#39;
</pre></div>
</div>
</div>
</div>
<p>Shapefiles are best read an manipulated with <a class="reference external" href="http://geopandas.org/">geopandas</a> in python (see also our <a class="reference internal" href="working_with_rgi.html"><span class="doc std std-doc">working_with_rgi.ipynb</span></a> tutorial):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>
<span class="n">gdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RGIId</th>
      <th>GLIMSId</th>
      <th>BgnDate</th>
      <th>EndDate</th>
      <th>CenLon</th>
      <th>CenLat</th>
      <th>O1Region</th>
      <th>O2Region</th>
      <th>Area</th>
      <th>Zmin</th>
      <th>...</th>
      <th>Lmax</th>
      <th>Status</th>
      <th>Connect</th>
      <th>Form</th>
      <th>TermType</th>
      <th>Surging</th>
      <th>Linkages</th>
      <th>Name</th>
      <th>check_geom</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>RGI60-11.00001</td>
      <td>G013599E47495N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>13.5987</td>
      <td>47.4949</td>
      <td>11</td>
      <td>1</td>
      <td>0.122</td>
      <td>2191</td>
      <td>...</td>
      <td>461</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>9</td>
      <td>None</td>
      <td>None</td>
      <td>POLYGON ((13.60035 47.49330, 13.59995 47.49332...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>RGI60-11.00002</td>
      <td>G013614E47485N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>13.6135</td>
      <td>47.4845</td>
      <td>11</td>
      <td>1</td>
      <td>2.292</td>
      <td>2203</td>
      <td>...</td>
      <td>1853</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>9</td>
      <td>None</td>
      <td>None</td>
      <td>POLYGON ((13.60638 47.47578, 13.60599 47.47579...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>RGI60-11.00003</td>
      <td>G013596E47484N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>13.5960</td>
      <td>47.4835</td>
      <td>11</td>
      <td>1</td>
      <td>0.851</td>
      <td>2280</td>
      <td>...</td>
      <td>1140</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>9</td>
      <td>None</td>
      <td>None</td>
      <td>POLYGON ((13.59765 47.47613, 13.59726 47.47614...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RGI60-11.00004</td>
      <td>G013583E47481N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>13.5829</td>
      <td>47.4807</td>
      <td>11</td>
      <td>1</td>
      <td>0.053</td>
      <td>2319</td>
      <td>...</td>
      <td>382</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>9</td>
      <td>None</td>
      <td>None</td>
      <td>POLYGON ((13.58283 47.47969, 13.58243 47.47971...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>RGI60-11.00005</td>
      <td>G013603E47477N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>13.6026</td>
      <td>47.4774</td>
      <td>11</td>
      <td>1</td>
      <td>0.057</td>
      <td>2656</td>
      <td>...</td>
      <td>202</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>9</td>
      <td>None</td>
      <td>None</td>
      <td>POLYGON ((13.60076 47.47519, 13.60036 47.47521...</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 24 columns</p>
</div></div></div>
</div>
<p>An RGI file contains the actual glacier geometries, but also a number of attribute which are used by OGGM afterwards. Let’s learn how to make our own file now.</p>
<p><a id='case1'></a></p>
</div>
<div class="section" id="case-1-dividing-a-glacier-into-smaller-entities">
<h2>Case 1: dividing a glacier into smaller entities<a class="headerlink" href="#case-1-dividing-a-glacier-into-smaller-entities" title="Permalink to this headline">¶</a></h2>
<p>A typical example of wrongly divided glacier is Hintereisferner, in Austria:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OGGM set-up</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(</span><span class="n">dirname</span><span class="o">=</span><span class="s1">&#39;rgi-case-1&#39;</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># Get the HEF geometry and plot it</span>
<span class="n">gl</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_glacier_entities</span><span class="p">([</span><span class="s1">&#39;RGI60-11.00897&#39;</span><span class="p">])</span>
<span class="n">gl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:56:55: oggm.cfg: PARAMS[&#39;border&#39;] changed from `40` to `10`.
</pre></div>
</div>
<img alt="../_images/use_your_own_inventory_14_1.png" src="../_images/use_your_own_inventory_14_1.png" />
</div>
</div>
<p>Obviously, the two smaller tongues used to flow in the main one but this is not the case anymore today. We need updated geometries.</p>
<div class="section" id="make-a-new-rgi-file">
<h3>Make a new “RGI file”<a class="headerlink" href="#make-a-new-rgi-file" title="Permalink to this headline">¶</a></h3>
<p>There is no simple way to automate the process of finding these bad geometries, but we are <a class="reference external" href="https://github.com/OGGM/partitioning">working on this</a> (don’t hold your breath, this has been in development since a long time). Here we use a geometry that we prepared in QGis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We simulate the case where we only have the geometry, nothing else</span>
<span class="n">divides</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">get_demo_file</span><span class="p">(</span><span class="s1">&#39;divides_alps.shp&#39;</span><span class="p">))</span>
<span class="n">divides</span> <span class="o">=</span> <span class="n">divides</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">divides</span><span class="o">.</span><span class="n">RGIId</span> <span class="o">==</span> <span class="s1">&#39;RGI50-11.00897&#39;</span><span class="p">][[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]]</span>
<span class="n">divides</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>POLYGON ((10.74505 46.80376, 10.74610 46.80293...</td>
    </tr>
    <tr>
      <th>93</th>
      <td>POLYGON ((10.74860 46.80493, 10.74717 46.80529...</td>
    </tr>
    <tr>
      <th>94</th>
      <td>POLYGON ((10.74602 46.80561, 10.74717 46.80529...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">divides</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_19_0.png" src="../_images/use_your_own_inventory_19_0.png" />
</div>
</div>
<p>Now we use the RGI entity as template - it’s good to use the same attributes as the original RGI glacier, because most of them are already correct:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">gl</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">template</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RGIId</th>
      <th>GLIMSId</th>
      <th>BgnDate</th>
      <th>EndDate</th>
      <th>CenLon</th>
      <th>CenLat</th>
      <th>O1Region</th>
      <th>O2Region</th>
      <th>Area</th>
      <th>Zmin</th>
      <th>...</th>
      <th>Aspect</th>
      <th>Lmax</th>
      <th>Status</th>
      <th>Connect</th>
      <th>Form</th>
      <th>TermType</th>
      <th>Surging</th>
      <th>Linkages</th>
      <th>Name</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>RGI60-11.00897</td>
      <td>G010758E46800N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>10.7584</td>
      <td>46.8003</td>
      <td>11</td>
      <td>1</td>
      <td>8.036</td>
      <td>2430</td>
      <td>...</td>
      <td>71</td>
      <td>7178</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>1</td>
      <td>Hintereisferner</td>
      <td>POLYGON ((10.75085 46.81381, 10.75112 46.81397...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>RGI60-11.00897</td>
      <td>G010758E46800N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>10.7584</td>
      <td>46.8003</td>
      <td>11</td>
      <td>1</td>
      <td>8.036</td>
      <td>2430</td>
      <td>...</td>
      <td>71</td>
      <td>7178</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>1</td>
      <td>Hintereisferner</td>
      <td>POLYGON ((10.75085 46.81381, 10.75112 46.81397...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>RGI60-11.00897</td>
      <td>G010758E46800N</td>
      <td>20030799</td>
      <td>20030999</td>
      <td>10.7584</td>
      <td>46.8003</td>
      <td>11</td>
      <td>1</td>
      <td>8.036</td>
      <td>2430</td>
      <td>...</td>
      <td>71</td>
      <td>7178</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>1</td>
      <td>Hintereisferner</td>
      <td>POLYGON ((10.75085 46.81381, 10.75112 46.81397...</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 23 columns</p>
</div></div></div>
</div>
<p>We change the important ones:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Attributes</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;RGIId&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RGI60-11.00897_d01&#39;</span><span class="p">,</span> <span class="s1">&#39;RGI60-11.00897_d02&#39;</span><span class="p">,</span> <span class="s1">&#39;RGI60-11.00897_d03&#39;</span><span class="p">]</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hintereisferner d01&#39;</span><span class="p">,</span> <span class="s1">&#39;Hintereisferner d02&#39;</span><span class="p">,</span> <span class="s1">&#39;Hintereisferner d03&#39;</span><span class="p">]</span>
<span class="c1"># Geometries</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">divides</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="c1"># Center point</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geom</span> <span class="ow">in</span> <span class="n">template</span><span class="p">[[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">cenlon</span><span class="p">,</span> <span class="n">cenlat</span> <span class="o">=</span> <span class="n">geom</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">xy</span>
    <span class="n">template</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;CenLon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cenlon</span>
    <span class="n">template</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;CenLat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cenlat</span>
<span class="c1"># This is important to properly georeference the file</span>
<span class="kn">import</span> <span class="nn">salem</span>
<span class="n">template</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">salem</span><span class="o">.</span><span class="n">wgs84</span><span class="o">.</span><span class="n">srs</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_24_0.png" src="../_images/use_your_own_inventory_24_0.png" />
</div>
</div>
<p>Save it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hef_new_shape_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">],</span> <span class="s1">&#39;hef_divided.shp&#39;</span><span class="p">)</span>
<span class="n">template</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">hef_new_shape_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compute-the-intersects">
<h3>Compute the intersects<a class="headerlink" href="#compute-the-intersects" title="Permalink to this headline">¶</a></h3>
<p>Hintereisferner has a divide with another glacier as well! Let’s find out which:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">intersects_alps</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_intersects_region_file</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">))</span>
<span class="n">intersects_hef</span> <span class="o">=</span> <span class="n">intersects_alps</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">intersects_alps</span><span class="o">.</span><span class="n">RGIId_1</span> <span class="o">==</span> <span class="s1">&#39;RGI60-11.00897&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">intersects_alps</span><span class="o">.</span><span class="n">RGIId_2</span> <span class="o">==</span> <span class="s1">&#39;RGI60-11.00897&#39;</span><span class="p">)]</span>
<span class="n">intersects_hef</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N/A% of  50.8 MiB |                      | Elapsed Time: 0:00:00 ETA:  --:--:--
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0% of  50.8 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:03:06
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0% of  50.8 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:02:04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0% of  50.8 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:01:17
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1% of  50.8 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:00:52
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  3% of  50.8 MiB |                      | Elapsed Time: 0:00:01 ETA:   0:00:30
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  6% of  50.8 MiB |#                     | Elapsed Time: 0:00:01 ETA:   0:00:17
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 12% of  50.8 MiB |##                    | Elapsed Time: 0:00:01 ETA:   0:00:09
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 18% of  50.8 MiB |####                  | Elapsed Time: 0:00:01 ETA:   0:00:06
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 24% of  50.8 MiB |#####                 | Elapsed Time: 0:00:01 ETA:   0:00:05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 25% of  50.8 MiB |#####                 | Elapsed Time: 0:00:01 ETA:   0:00:05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 31% of  50.8 MiB |######                | Elapsed Time: 0:00:02 ETA:   0:00:04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 35% of  50.8 MiB |#######               | Elapsed Time: 0:00:02 ETA:   0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 41% of  50.8 MiB |#########             | Elapsed Time: 0:00:02 ETA:   0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 46% of  50.8 MiB |##########            | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 51% of  50.8 MiB |###########           | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 52% of  50.8 MiB |###########           | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 57% of  50.8 MiB |############          | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 58% of  50.8 MiB |############          | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 62% of  50.8 MiB |#############         | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 64% of  50.8 MiB |##############        | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 67% of  50.8 MiB |##############        | Elapsed Time: 0:00:03 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 73% of  50.8 MiB |################      | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 77% of  50.8 MiB |#################     | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 83% of  50.8 MiB |##################    | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 89% of  50.8 MiB |###################   | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 89% of  50.8 MiB |###################   | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 95% of  50.8 MiB |####################  | Elapsed Time: 0:00:04 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 99% of  50.8 MiB |##################### | Elapsed Time: 0:00:04 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100% of  50.8 MiB |######################| Elapsed Time: 0:00:04 Time:  0:00:04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RGIId_1</th>
      <th>RGIId_2</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>119</th>
      <td>RGI60-11.00846</td>
      <td>RGI60-11.00897</td>
      <td>LINESTRING (10.74826 46.81077, 10.74840 46.810...</td>
    </tr>
    <tr>
      <th>143</th>
      <td>RGI60-11.00897</td>
      <td>RGI60-11.00846</td>
      <td>LINESTRING (10.72557 46.79781, 10.72557 46.797...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ok, we can now create a file which has all the glaciers we need to compute the relevant intersects (note that we could also use the full standard RGI with just HEF replaced):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">for_intersects</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">template</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_glacier_entities</span><span class="p">([</span><span class="s1">&#39;RGI60-11.00846&#39;</span><span class="p">])],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">for_intersects</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">salem</span><span class="o">.</span><span class="n">wgs84</span><span class="o">.</span><span class="n">srs</span>
<span class="n">for_intersects</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_31_0.png" src="../_images/use_your_own_inventory_31_0.png" />
</div>
</div>
<p>Good! Let’s use <a class="reference external" href="https://rgitools.readthedocs.io">rgitools</a> to compute the intersects for this new situation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rgitools.funcs</span> <span class="kn">import</span> <span class="n">compute_intersects</span>
<span class="n">new_intersects</span> <span class="o">=</span> <span class="n">compute_intersects</span><span class="p">(</span><span class="n">for_intersects</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If this raises an error, you might have to install <a class="reference external" href="https://rgitools.readthedocs.io">rgitools</a> first (e.g. <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git+https://github.com/OGGM/rgitools.git</span></code>)
and also <a class="reference external" href="https://networkx.org/documentation/stable/index.html">networkx</a> (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">networkx</span></code>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">for_intersects</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
<span class="n">new_intersects</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_35_0.png" src="../_images/use_your_own_inventory_35_0.png" />
</div>
</div>
<p>Good! We can store our intersects to use them with OGGM afterwards:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hef_intersects_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">],</span> <span class="s1">&#39;hef_divided_intersects.shp&#39;</span><span class="p">)</span>
<span class="n">new_intersects</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">hef_intersects_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="finally-the-oggm-run">
<h3>Finally: the OGGM run<a class="headerlink" href="#finally-the-oggm-run" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is important! We tell OGGM to recompute the glacier area for us</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;use_rgi_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># This is the default anyway, but we set it here to be sure</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;use_intersects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># This is important!</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">set_intersects_db</span><span class="p">(</span><span class="n">hef_intersects_path</span><span class="p">)</span>

<span class="c1"># This is to avoid a download in the tutorial, you dont&#39; need do this at home</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;dem_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_demo_file</span><span class="p">(</span><span class="s1">&#39;hef_srtm.tif&#39;</span><span class="p">)</span>

<span class="c1"># This is important again - standard OGGM </span>
<span class="n">rgidf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">hef_new_shape_path</span><span class="p">)</span>
<span class="n">gdirs</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">init_glacier_directories</span><span class="p">(</span><span class="n">rgidf</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PARAMS[&#39;use_rgi_area&#39;] changed from `True` to `False`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task GlacierDirectory on 3 glaciers
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">define_glacier_region</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">glacier_masks</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">compute_centerlines</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">initialize_flowlines</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">catchment_area</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">catchment_width_geom</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">catchment_width_correction</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task define_glacier_region on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task glacier_masks on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task compute_centerlines on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task initialize_flowlines on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task catchment_area on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task catchment_width_geom on 3 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Execute entity task catchment_width_correction on 3 glaciers
</pre></div>
</div>
</div>
</div>
<p>If you get “NameError ‘skdraw’ is not defined”, you have to install the python image processing package <a class="reference external" href="https://scikit-image.org/docs/stable/install.html#installation-via-pip-and-conda">scikit-image</a> first (e.g. via <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">scikit-image</span></code>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_catchment_width</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">add_intersects</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">corrected</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_42_0.png" src="../_images/use_your_own_inventory_42_0.png" />
</div>
</div>
<p>It works!</p>
<p><strong>The intersects in OGGM are used for two main things:</strong></p>
<ul class="simple">
<li><p>when a grid-point glacier section touches an intersect, it will be attributed a rectangular bed (instead of a parabolic one)</p></li>
<li><p>when interpolating the ice thickness to a 2D grid, the boundary condition thickness=0 at the glacier outline is removed where there are intersects</p></li>
</ul>
<p><strong>We recommend to use intersects for your runs as well.</strong></p>
<p><a id='case2'></a></p>
</div>
</div>
<div class="section" id="case-2-merging-glaciers">
<h2>Case 2: merging glaciers<a class="headerlink" href="#case-2-merging-glaciers" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you may want to <em>merge</em> glaciers together. This case is less frequent than Case 1, but might be useful for calving glaciers, which are sometimes divided in the RGI.</p>
<div class="section" id="original-rgi-outlines">
<h3>Original RGI outlines<a class="headerlink" href="#original-rgi-outlines" title="Permalink to this headline">¶</a></h3>
<p>We use a case study for two marine-terminating glaciers in Alaska that have to be merged into a single outline in order to model a correct calving flux for these glaciers (following the methods described in
<a class="reference external" href="https://www.the-cryosphere.net/13/2657/2019/tc-13-2657-2019.html">Recinos et al., (2019)</a>). The resulting shapefile is a new one that needs to be adapted in order for OGGM to run.</p>
<p>We will study the Sawyer Glacier (<code class="docutils literal notranslate"><span class="pre">RGI60-01.03890</span></code>) that is actually connected via the calving front with this other entity (<code class="docutils literal notranslate"><span class="pre">RGI60-01.23664</span></code>). Visit this <a class="reference external" href="https://glacierchange.wordpress.com/2011/03/16/saywer-glacier-alaska-retreat/">link</a> to learn more about the retreat of the Sawyer Glacier and see images illustrating this connection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gl</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_rgi_glacier_entities</span><span class="p">([</span><span class="s1">&#39;RGI60-01.03890&#39;</span><span class="p">,</span> <span class="s1">&#39;RGI60-01.23664&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Here OGGM downloaded the outlines for both glaciers. If we plot them together, we can see that both glaciers drain into the same fjord. See the google map below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">logging_level</span><span class="o">=</span><span class="s1">&#39;WARNING&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(</span><span class="n">dirname</span><span class="o">=</span><span class="s1">&#39;rgi-case-2-example&#39;</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">gdirs</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">init_glacier_directories</span><span class="p">([</span><span class="s1">&#39;RGI60-01.03890&#39;</span><span class="p">,</span> <span class="s1">&#39;RGI60-01.23664&#39;</span><span class="p">],</span> <span class="n">from_prepro_level</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">plot_googlemap</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.cfg: Reading default parameters from the OGGM `params.cfg` configuration file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.cfg: Multiprocessing switched OFF according to the parameter file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.cfg: Multiprocessing: using all available processors (N=2)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.cfg: PARAMS[&#39;border&#39;] changed from `40` to `10`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.workflow: init_glacier_directories from prepro level 3 on 2 glaciers.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:31: oggm.workflow: Execute entity task gdir_from_prepro on 2 glaciers
</pre></div>
</div>
<img alt="../_images/use_your_own_inventory_51_6.png" src="../_images/use_your_own_inventory_51_6.png" />
</div>
</div>
<p>The upper glacier map is a zoom version of the plot below.
They share the same glaciers terminus. Therefore, to estimate a calving flux for these glaciers we need them connected.</p>
</div>
<div class="section" id="let-s-merge-these-two-outlines-using-geopandas">
<h3>Let’s merge these two outlines using geopandas<a class="headerlink" href="#let-s-merge-these-two-outlines-using-geopandas" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;O2Region&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> 
<span class="n">merged</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">gl</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">merged</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_54_0.png" src="../_images/use_your_own_inventory_54_0.png" />
</div>
</div>
</div>
<div class="section" id="rgi-attributes">
<h3>RGI attributes<a class="headerlink" href="#rgi-attributes" title="Permalink to this headline">¶</a></h3>
<p>We now have a new shapefile, which resembles an RGI one but has wrong attributes. Some aren’t relevant, but some are. See the <a class="reference external" href="https://oggm.readthedocs.io/en/latest/input-data.html#glacier-outlines-and-intersects">documentation</a> for a list.</p>
<p>The important ones are: RGIId, CenLon, CenLat, TermType, Area. Area and CenLon, Cenlat can be calculated by OGGM later, as we have seen earlier. Here, we prefer to keep the Area computed by the RGI for consistency.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We use the RGI as template (this avoids strange IO issues)</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change CenLon, CenLat</span>
<span class="n">cenlon</span><span class="p">,</span> <span class="n">cenlat</span> <span class="o">=</span> <span class="n">merged</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">xy</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;CenLon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cenlon</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;CenLat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cenlat</span>

<span class="c1"># We sum up the areas</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">Area</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3889    275.739
Name: Area, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>In <a class="reference external" href="https://www.the-cryosphere.net/13/2657/2019/tc-13-2657-2019.html">Recinos et al., (2019)</a> we wanted to estimate a frontal ablation flux for this new outline and compare it with previous estimates found in the literature for the Sawyer Glacier (<a class="reference external" href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1002/2014JF003276">McNabb et al., 2015</a>).</p>
<p>For this reason we kept the Sawyer glacier attributes to the following variables:
<code class="docutils literal notranslate"><span class="pre">RGIId,</span> <span class="pre">GLIMSId,</span> <span class="pre">Name</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">TermType</span></code> should be equal to 1, for Marine-terminating.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;TermType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">template</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Sawyer Glacier merged with RGI60-01.23664&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can write a new shapefile for this glacier.
We recommend doing this if you have to make several model runs. You can also integrate this outline to your main RGI shapefile:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">(</span><span class="n">dirname</span><span class="o">=</span><span class="s1">&#39;rgi-case-2&#39;</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">template</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="n">salem</span><span class="o">.</span><span class="n">wgs84</span><span class="o">.</span><span class="n">srs</span>
<span class="n">template</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">],</span> <span class="s1">&#39;merged.shp&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.cfg: Reading default parameters from the OGGM `params.cfg` configuration file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.cfg: Multiprocessing switched OFF according to the parameter file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.cfg: Multiprocessing: using all available processors (N=2)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="run-oggm-with-this-new-glacier">
<h3>Run OGGM with this new glacier<a class="headerlink" href="#run-oggm-with-this-new-glacier" title="Permalink to this headline">¶</a></h3>
<p>For simplicity, we do not compute the intersects in this case: <strong>however, we recommend you do do so (see above). In all cases, do not use the intersects provided automatically with OGGM when using custom inventories, as they are likely to be wrong.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set-up the run</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;border&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># We don&#39;t use intersects here</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;use_intersects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># We prefer OGGM to use the area we computed ourselves</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PARAMS</span><span class="p">[</span><span class="s1">&#39;use_rgi_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Use our merged file</span>
<span class="n">rgidf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">],</span> <span class="s1">&#39;merged.shp&#39;</span><span class="p">))</span>
<span class="n">gdirs</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">init_glacier_directories</span><span class="p">(</span><span class="n">rgidf</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">gdirs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.cfg: PARAMS[&#39;border&#39;] changed from `40` to `10`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.cfg: PARAMS[&#39;use_intersects&#39;] changed from `True` to `False`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:38: oggm.workflow: Execute entity task GlacierDirectory on 1 glaciers
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;oggm.GlacierDirectory&gt;
   RGI id: RGI60-01.03890
   Region: 01: Alaska
   Subregion: 01-06: N Coast Ranges                  
   Name: Sawyer Glacier Merged With Rgi60-01.23664
   Glacier type: Glacier
   Terminus type: Marine-terminating
   Status: Glacier or ice cap
   Area: 275.739 km2
   Lon, Lat: (-132.99462279101698, 57.92395858254873)]
</pre></div>
</div>
</div>
</div>
<p>Here we are not able to use the <a class="reference external" href="https://docs.oggm.org/en/stable/input-data.html#pre-processed-directories">Pre-processed directories</a> and the respective <a class="reference external" href="https://docs.oggm.org/en/stable/input-data.html#preprodir">Processing levels</a> that OGGM provides for a easy run set up. We can’t use this workflow simply because we have a different beginning than OGGM, we have a different RGI! We just need to type more and run all the model task one by one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oggm.workflow</span> <span class="kn">import</span> <span class="n">execute_entity_task</span>

<span class="c1"># Calculate the DEMs and the masks</span>
<span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">define_glacier_region</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">,</span> <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;SRTM&#39;</span><span class="p">)</span>
<span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">glacier_masks</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">)</span>

<span class="c1"># Calculate the Pre-processing tasks</span>
<span class="n">task_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">tasks</span><span class="o">.</span><span class="n">compute_centerlines</span><span class="p">,</span>
    <span class="n">tasks</span><span class="o">.</span><span class="n">initialize_flowlines</span><span class="p">,</span>
    <span class="n">tasks</span><span class="o">.</span><span class="n">catchment_area</span><span class="p">,</span>
    <span class="n">tasks</span><span class="o">.</span><span class="n">catchment_width_geom</span><span class="p">,</span>
    <span class="n">tasks</span><span class="o">.</span><span class="n">catchment_width_correction</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">task_list</span><span class="p">:</span>
    <span class="n">execute_entity_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:41: oggm.workflow: Execute entity task define_glacier_region on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:41: oggm.core.gis: (RGI60-01.03890) define_glacier_region
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:41: oggm.utils: Downloading http://srtm.csi.cgiar.org/wp-content/uploads/files/srtm_5x5/TIFF/srtm_10_01.zip to /github/home/OGGM/download_cache/srtm.csi.cgiar.org/wp-content/uploads/files/srtm_5x5/TIFF/srtm_10_01.zip...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N/A% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:  --:--:--
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:01:51
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:01:14
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:01:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  1% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:00:44
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  3% of  34.9 MiB |                      | Elapsed Time: 0:00:00 ETA:   0:00:28
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  6% of  34.9 MiB |#                     | Elapsed Time: 0:00:01 ETA:   0:00:15
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 10% of  34.9 MiB |##                    | Elapsed Time: 0:00:01 ETA:   0:00:10
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 12% of  34.9 MiB |##                    | Elapsed Time: 0:00:01 ETA:   0:00:09
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 17% of  34.9 MiB |###                   | Elapsed Time: 0:00:01 ETA:   0:00:06
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 20% of  34.9 MiB |####                  | Elapsed Time: 0:00:01 ETA:   0:00:06
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 24% of  34.9 MiB |#####                 | Elapsed Time: 0:00:01 ETA:   0:00:05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 30% of  34.9 MiB |######                | Elapsed Time: 0:00:01 ETA:   0:00:04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 31% of  34.9 MiB |#######               | Elapsed Time: 0:00:01 ETA:   0:00:04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 35% of  34.9 MiB |#######               | Elapsed Time: 0:00:01 ETA:   0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 36% of  34.9 MiB |########              | Elapsed Time: 0:00:02 ETA:   0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 40% of  34.9 MiB |########              | Elapsed Time: 0:00:02 ETA:   0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 41% of  34.9 MiB |#########             | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 45% of  34.9 MiB |##########            | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 46% of  34.9 MiB |##########            | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 50% of  34.9 MiB |###########           | Elapsed Time: 0:00:02 ETA:   0:00:02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 51% of  34.9 MiB |###########           | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 55% of  34.9 MiB |############          | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 57% of  34.9 MiB |############          | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 59% of  34.9 MiB |#############         | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 62% of  34.9 MiB |#############         | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 65% of  34.9 MiB |##############        | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 67% of  34.9 MiB |##############        | Elapsed Time: 0:00:02 ETA:   0:00:01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 70% of  34.9 MiB |###############       | Elapsed Time: 0:00:02 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 72% of  34.9 MiB |###############       | Elapsed Time: 0:00:02 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 76% of  34.9 MiB |################      | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 77% of  34.9 MiB |#################     | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 78% of  34.9 MiB |#################     | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 86% of  34.9 MiB |##################    | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 89% of  34.9 MiB |###################   | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 93% of  34.9 MiB |####################  | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 96% of  34.9 MiB |##################### | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 97% of  34.9 MiB |##################### | Elapsed Time: 0:00:03 ETA:   0:00:00
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:46: oggm.utils: /github/home/OGGM/download_cache/srtm.csi.cgiar.org/wp-content/uploads/files/srtm_5x5/TIFF/srtm_10_01.zip verified successfully.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100% of  34.9 MiB |######################| Elapsed Time: 0:00:03 Time:  0:00:03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:47: oggm.workflow: Execute entity task glacier_masks on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:47: oggm.core.gis: (RGI60-01.03890) glacier_masks
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:47: oggm.core.gis: (RGI60-01.03890) process_dem
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:47: oggm.core.gis: RGI60-01.03890: DEM needed interpolation.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.workflow: Execute entity task compute_centerlines on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.core.centerlines: (RGI60-01.03890) compute_centerlines
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.workflow: Execute entity task initialize_flowlines on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.core.centerlines: (RGI60-01.03890) initialize_flowlines
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.workflow: Execute entity task catchment_area on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:50: oggm.core.centerlines: (RGI60-01.03890) catchment_area
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:57: oggm.workflow: Execute entity task catchment_width_geom on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:57: oggm.core.centerlines: (RGI60-01.03890) catchment_width_geom
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:58: oggm.workflow: Execute entity task catchment_width_correction on 1 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:58: oggm.core.centerlines: (RGI60-01.03890) catchment_width_correction
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2021-05-10 11:57:58: oggm.core.centerlines: (RGI60-01.03890) chosen binsize 315
</pre></div>
</div>
</div>
</div>
<p>note that we used in <code class="docutils literal notranslate"><span class="pre">tasks.define_glacier_region</span></code> SRTM as DEM source which is not the default one in OGGM.
The default one is NASADEM, but for that you have to register at <a class="reference external" href="https://urs.earthdata.nasa.gov/">NASA Earthdata</a>
more info in <a class="reference external" href="dem_sources.ipynb#register">dem_sources.ipynb/register</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_googlemap</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_69_0.png" src="../_images/use_your_own_inventory_69_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_catchment_width</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">corrected</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/use_your_own_inventory_70_0.png" src="../_images/use_your_own_inventory_70_0.png" />
</div>
</div>
<p><a id='case3'></a></p>
</div>
</div>
<div class="section" id="case-3-start-from-a-completely-independent-inventory">
<h2>Case 3: start from a completely independent inventory<a class="headerlink" href="#case-3-start-from-a-completely-independent-inventory" title="Permalink to this headline">¶</a></h2>
<p>Refer to <a class="reference external" href="#case1">Case 1</a> above, where we show how to start from an RGI template. The main message is: get the attributes right and let OGGM compute the area!</p>
</div>
<div class="section" id="what-s-next">
<h2>What’s next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>return to the <a class="reference external" href="https://docs.oggm.org">OGGM documentation</a></p></li>
<li><p>back to the <a class="reference internal" href="welcome.html"><span class="doc std std-doc">table of contents</span></a></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="merging_glaciers.html" title="previous page">Merging glaciers for past climate simulations</a>
    <a class='right-next' id="next-link" href="massbalance_calibration.html" title="next page">A quick look into the mass-balance calibration procedure</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By OGGM e.V. and OGGM Contributors<br/>
        
          <div class="extra_footer">
            <p>
These notebooks are licensed under a <a href="https://github.com/OGGM/tutorials/blob/master/LICENSE.txt" target="_blank">BSD-3-Clause license</a>.
<br>
&copy; Copyright 2014-2021.
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-106829797-2', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>