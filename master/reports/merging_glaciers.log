Traceback (most recent call last):
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/asyncio/base_events.py", line 646, in run_until_complete
    return future.result()
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# some model settings
years = 125
tbias = -1.5

# model Mont Mine glacier as entity and complile the output
tasks.run_constant_climate(montmine, nyears=years, output_filesuffix='_entity', temperature_bias=tbias)
ds_entity = utils.compile_run_output([montmine], path=False, input_filesuffix='_entity')

# model the merged glacier and complile the output
tasks.run_constant_climate(gdirs_merged, nyears=years, output_filesuffix='_merged', temperature_bias=tbias, climate_filename='climate_historical')
ds_merged = utils.compile_run_output([gdirs_merged], path=False, input_filesuffix='_merged')
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mRuntimeError[0m                              Traceback (most recent call last)
Input [0;32mIn [9][0m, in [0;36m<cell line: 10>[0;34m()[0m
[1;32m      7[0m ds_entity [38;5;241m=[39m utils[38;5;241m.[39mcompile_run_output([montmine], path[38;5;241m=[39m[38;5;28;01mFalse[39;00m, input_filesuffix[38;5;241m=[39m[38;5;124m'[39m[38;5;124m_entity[39m[38;5;124m'[39m)
[1;32m      9[0m [38;5;66;03m# model the merged glacier and complile the output[39;00m
[0;32m---> 10[0m [43mtasks[49m[38;5;241;43m.[39;49m[43mrun_constant_climate[49m[43m([49m[43mgdirs_merged[49m[43m,[49m[43m [49m[43mnyears[49m[38;5;241;43m=[39;49m[43myears[49m[43m,[49m[43m [49m[43moutput_filesuffix[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43m_merged[39;49m[38;5;124;43m'[39;49m[43m,[49m[43m [49m[43mtemperature_bias[49m[38;5;241;43m=[39;49m[43mtbias[49m[43m,[49m[43m [49m[43mclimate_filename[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43mclimate_historical[39;49m[38;5;124;43m'[39;49m[43m)[49m
[1;32m     11[0m ds_merged [38;5;241m=[39m utils[38;5;241m.[39mcompile_run_output([gdirs_merged], path[38;5;241m=[39m[38;5;28;01mFalse[39;00m, input_filesuffix[38;5;241m=[39m[38;5;124m'[39m[38;5;124m_merged[39m[38;5;124m'[39m)

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/utils/_workflow.py:491[0m, in [0;36mentity_task.__call__.<locals>._entity_task[0;34m(gdir, reset, print_log, return_value, continue_on_error, add_to_log_file, **kwargs)[0m
[1;32m    489[0m     signal[38;5;241m.[39malarm(cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m])
[1;32m    490[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime()
[0;32m--> 491[0m out [38;5;241m=[39m [43mtask_func[49m[43m([49m[43mgdir[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    492[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime() [38;5;241m-[39m ex_t
[1;32m    493[0m [38;5;28;01mif[39;00m cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m] [38;5;241m>[39m [38;5;241m0[39m:

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/core/flowline.py:3171[0m, in [0;36mrun_constant_climate[0;34m(gdir, nyears, y0, halfsize, bias, temperature_bias, precipitation_factor, store_monthly_step, store_model_geometry, store_fl_diagnostics, init_model_filesuffix, init_model_yr, output_filesuffix, climate_filename, climate_input_filesuffix, init_model_fls, zero_initial_glacier, use_avg_climate, **kwargs)[0m
[1;32m   3168[0m [38;5;28;01mif[39;00m precipitation_factor [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[1;32m   3169[0m     mb[38;5;241m.[39mprcp_fac [38;5;241m=[39m precipitation_factor
[0;32m-> 3171[0m [38;5;28;01mreturn[39;00m [43mflowline_model_run[49m[43m([49m[43mgdir[49m[43m,[49m[43m [49m[43moutput_filesuffix[49m[38;5;241;43m=[39;49m[43moutput_filesuffix[49m[43m,[49m
[1;32m   3172[0m [43m                          [49m[43mmb_model[49m[38;5;241;43m=[39;49m[43mmb[49m[43m,[49m[43m [49m[43mys[49m[38;5;241;43m=[39;49m[38;5;241;43m0[39;49m[43m,[49m[43m [49m[43mye[49m[38;5;241;43m=[39;49m[43mnyears[49m[43m,[49m
[1;32m   3173[0m [43m                          [49m[43mstore_monthly_step[49m[38;5;241;43m=[39;49m[43mstore_monthly_step[49m[43m,[49m
[1;32m   3174[0m [43m                          [49m[43mstore_model_geometry[49m[38;5;241;43m=[39;49m[43mstore_model_geometry[49m[43m,[49m
[1;32m   3175[0m [43m                          [49m[43mstore_fl_diagnostics[49m[38;5;241;43m=[39;49m[43mstore_fl_diagnostics[49m[43m,[49m
[1;32m   3176[0m [43m                          [49m[43minit_model_filesuffix[49m[38;5;241;43m=[39;49m[43minit_model_filesuffix[49m[43m,[49m
[1;32m   3177[0m [43m                          [49m[43minit_model_yr[49m[38;5;241;43m=[39;49m[43minit_model_yr[49m[43m,[49m
[1;32m   3178[0m [43m                          [49m[43minit_model_fls[49m[38;5;241;43m=[39;49m[43minit_model_fls[49m[43m,[49m
[1;32m   3179[0m [43m                          [49m[43mzero_initial_glacier[49m[38;5;241;43m=[39;49m[43mzero_initial_glacier[49m[43m,[49m
[1;32m   3180[0m [43m                          [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/utils/_workflow.py:491[0m, in [0;36mentity_task.__call__.<locals>._entity_task[0;34m(gdir, reset, print_log, return_value, continue_on_error, add_to_log_file, **kwargs)[0m
[1;32m    489[0m     signal[38;5;241m.[39malarm(cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m])
[1;32m    490[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime()
[0;32m--> 491[0m out [38;5;241m=[39m [43mtask_func[49m[43m([49m[43mgdir[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    492[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime() [38;5;241m-[39m ex_t
[1;32m    493[0m [38;5;28;01mif[39;00m cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m] [38;5;241m>[39m [38;5;241m0[39m:

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/core/flowline.py:2958[0m, in [0;36mflowline_model_run[0;34m(gdir, output_filesuffix, mb_model, ys, ye, zero_initial_glacier, init_model_fls, store_monthly_step, fixed_geometry_spinup_yr, store_model_geometry, store_fl_diagnostics, water_level, evolution_model, stop_criterion, init_model_filesuffix, init_model_yr, **kwargs)[0m
[1;32m   2955[0m [38;5;28;01mwith[39;00m np[38;5;241m.[39mwarnings[38;5;241m.[39mcatch_warnings():
[1;32m   2956[0m     [38;5;66;03m# For operational runs we ignore the warnings[39;00m
[1;32m   2957[0m     np[38;5;241m.[39mwarnings[38;5;241m.[39mfilterwarnings([38;5;124m'[39m[38;5;124mignore[39m[38;5;124m'[39m, category[38;5;241m=[39m[38;5;167;01mRuntimeWarning[39;00m)
[0;32m-> 2958[0m     [43mmodel[49m[38;5;241;43m.[39;49m[43mrun_until_and_store[49m[43m([49m[43mye[49m[43m,[49m
[1;32m   2959[0m [43m                              [49m[43mgeom_path[49m[38;5;241;43m=[39;49m[43mgeom_path[49m[43m,[49m
[1;32m   2960[0m [43m                              [49m[43mdiag_path[49m[38;5;241;43m=[39;49m[43mdiag_path[49m[43m,[49m
[1;32m   2961[0m [43m                              [49m[43mfl_diag_path[49m[38;5;241;43m=[39;49m[43mfl_diag_path[49m[43m,[49m
[1;32m   2962[0m [43m                              [49m[43mstore_monthly_step[49m[38;5;241;43m=[39;49m[43mstore_monthly_step[49m[43m,[49m
[1;32m   2963[0m [43m                              [49m[43mfixed_geometry_spinup_yr[49m[38;5;241;43m=[39;49m[43mfixed_geometry_spinup_yr[49m[43m,[49m
[1;32m   2964[0m [43m                              [49m[43mstop_criterion[49m[38;5;241;43m=[39;49m[43mstop_criterion[49m[43m)[49m
[1;32m   2966[0m [38;5;28;01mreturn[39;00m model

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/core/flowline.py:1237[0m, in [0;36mFlowlineModel.run_until_and_store[0;34m(self, y1, diag_path, fl_diag_path, geom_path, store_monthly_step, stop_criterion, fixed_geometry_spinup_yr)[0m
[1;32m   1232[0m [38;5;28;01mfor[39;00m i, (yr, mo) [38;5;129;01min[39;00m [38;5;28menumerate[39m([38;5;28mzip[39m(monthly_time, months)):
[1;32m   1234[0m     [38;5;28;01mif[39;00m yr [38;5;241m>[39m [38;5;28mself[39m[38;5;241m.[39myr:
[1;32m   1235[0m         [38;5;66;03m# Here we model run - otherwise (for spinup) we[39;00m
[1;32m   1236[0m         [38;5;66;03m# constantly store the same data[39;00m
[0;32m-> 1237[0m         [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mrun_until[49m[43m([49m[43myr[49m[43m)[49m
[1;32m   1239[0m     [38;5;66;03m# Glacier geometry[39;00m
[1;32m   1240[0m     [38;5;28;01mif[39;00m (do_geom [38;5;129;01mor[39;00m do_fl_diag) [38;5;129;01mand[39;00m mo [38;5;241m==[39m [38;5;241m1[39m:

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/core/flowline.py:915[0m, in [0;36mFlowlineModel.run_until[0;34m(self, y1)[0m
[1;32m    912[0m [38;5;66;03m# because of CFL, step() doesn't ensure that the end date is met[39;00m
[1;32m    913[0m [38;5;66;03m# lets run the steps until we reach our desired date[39;00m
[1;32m    914[0m [38;5;28;01mwhile[39;00m [38;5;28mself[39m[38;5;241m.[39mt [38;5;241m<[39m t:
[0;32m--> 915[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mstep[49m[43m([49m[43mt[49m[43m [49m[38;5;241;43m-[39;49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mt[49m[43m)[49m
[1;32m    917[0m [38;5;66;03m# Check for domain bounds[39;00m
[1;32m    918[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39mcheck_for_boundaries:

File [0;32m/usr/local/pyenv/versions/3.10.3/lib/python3.10/site-packages/oggm/core/flowline.py:1744[0m, in [0;36mFluxBasedModel.step[0;34m(self, dt)[0m
[1;32m   1742[0m         dt [38;5;241m=[39m cfl_dt
[1;32m   1743[0m         [38;5;28;01mif[39;00m cfl_dt [38;5;241m<[39m [38;5;28mself[39m[38;5;241m.[39mmin_dt:
[0;32m-> 1744[0m             [38;5;28;01mraise[39;00m [38;5;167;01mRuntimeError[39;00m(
[1;32m   1745[0m                 [38;5;124m'[39m[38;5;124mCFL error: required time step smaller [39m[38;5;124m'[39m
[1;32m   1746[0m                 [38;5;124m'[39m[38;5;124mthan the minimum allowed: [39m[38;5;124m'[39m
[1;32m   1747[0m                 [38;5;124m'[39m[38;5;132;01m{:.1f}[39;00m[38;5;124ms vs [39m[38;5;132;01m{:.1f}[39;00m[38;5;124ms. Happening at [39m[38;5;124m'[39m
[1;32m   1748[0m                 [38;5;124m'[39m[38;5;124msimulation year [39m[38;5;132;01m{:.1f}[39;00m[38;5;124m, fl_id [39m[38;5;132;01m{}[39;00m[38;5;124m, [39m[38;5;124m'[39m
[1;32m   1749[0m                 [38;5;124m'[39m[38;5;124mbin_id [39m[38;5;132;01m{}[39;00m[38;5;124m and max_u [39m[38;5;132;01m{:.3f}[39;00m[38;5;124m m yr-1.[39m[38;5;124m'[39m
[1;32m   1750[0m                 [38;5;124m'[39m[38;5;124m'[39m[38;5;241m.[39mformat(cfl_dt, [38;5;28mself[39m[38;5;241m.[39mmin_dt, [38;5;28mself[39m[38;5;241m.[39myr, fl_id,
[1;32m   1751[0m                           np[38;5;241m.[39margmax(np[38;5;241m.[39mabs(u_stag)),
[1;32m   1752[0m                           maxu [38;5;241m*[39m cfg[38;5;241m.[39mSEC_IN_YEAR))
[1;32m   1754[0m [38;5;66;03m# Since we are in this loop, reset the tributary flux[39;00m
[1;32m   1755[0m trib_flux[:] [38;5;241m=[39m [38;5;241m0[39m

[0;31mRuntimeError[0m: CFL error: required time step smaller than the minimum allowed: 5.0s vs 60.0s. Happening at simulation year 0.0, fl_id 4, bin_id 9 and max_u 5024682.499 m yr-1.
RuntimeError: CFL error: required time step smaller than the minimum allowed: 5.0s vs 60.0s. Happening at simulation year 0.0, fl_id 4, bin_id 9 and max_u 5024682.499 m yr-1.

