Traceback (most recent call last):
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
mb_calibration_from_scalar_mb(gdir_2, ref_mb=ref_mb, ref_period = cfg.PARAMS['geodetic_mb_period'])
# you could also calibrate on the WGMS data instead
# as this glacier has in-situ MB observations
# mb_calibration_from_wgms_mb(gdir_2, overwrite_gdir=True)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mValueError[0m                                Traceback (most recent call last)
File [0;32m/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/oggm/core/massbalance.py:1778[0m, in [0;36mmb_calibration_from_scalar_mb[0;34m(gdir, ref_mb, ref_mb_err, ref_period, ref_mb_years, write_to_gdir, overwrite_gdir, calibrate_param1, calibrate_param2, calibrate_param3, melt_f, melt_f_min, melt_f_max, prcp_fac, prcp_fac_min, prcp_fac_max, temp_bias, temp_bias_min, temp_bias_max, mb_model_class)[0m
[1;32m   1777[0m [38;5;28;01mtry[39;00m:
[0;32m-> 1778[0m     optim_param1 [38;5;241m=[39m [43moptimize[49m[38;5;241;43m.[39;49m[43mbrentq[49m[43m([49m[43mto_minimize[49m[43m,[49m
[1;32m   1779[0m [43m                                   [49m[43mmin_range[49m[43m,[49m[43m [49m[43mmax_range[49m[43m,[49m
[1;32m   1780[0m [43m                                   [49m[43margs[49m[38;5;241;43m=[39;49m[43m([49m[43mcalibrate_param1[49m[43m,[49m[43m)[49m
[1;32m   1781[0m [43m                                   [49m[43m)[49m
[1;32m   1782[0m [38;5;28;01mexcept[39;00m [38;5;167;01mValueError[39;00m:

File [0;32m/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/scipy/optimize/_zeros_py.py:783[0m, in [0;36mbrentq[0;34m(f, a, b, args, xtol, rtol, maxiter, full_output, disp)[0m
[1;32m    782[0m     [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m([38;5;124m"[39m[38;5;124mrtol too small ([39m[38;5;132;01m%g[39;00m[38;5;124m < [39m[38;5;132;01m%g[39;00m[38;5;124m)[39m[38;5;124m"[39m [38;5;241m%[39m (rtol, _rtol))
[0;32m--> 783[0m r [38;5;241m=[39m [43m_zeros[49m[38;5;241;43m.[39;49m[43m_brentq[49m[43m([49m[43mf[49m[43m,[49m[43m [49m[43ma[49m[43m,[49m[43m [49m[43mb[49m[43m,[49m[43m [49m[43mxtol[49m[43m,[49m[43m [49m[43mrtol[49m[43m,[49m[43m [49m[43mmaxiter[49m[43m,[49m[43m [49m[43margs[49m[43m,[49m[43m [49m[43mfull_output[49m[43m,[49m[43m [49m[43mdisp[49m[43m)[49m
[1;32m    784[0m [38;5;28;01mreturn[39;00m results_c(full_output, r)

[0;31mValueError[0m: f(a) and f(b) must have different signs

During handling of the above exception, another exception occurred:

[0;31mRuntimeError[0m                              Traceback (most recent call last)
Cell [0;32mIn[31], line 1[0m
[0;32m----> 1[0m [43mmb_calibration_from_scalar_mb[49m[43m([49m[43mgdir_2[49m[43m,[49m[43m [49m[43mref_mb[49m[38;5;241;43m=[39;49m[43mref_mb[49m[43m,[49m[43m [49m[43mref_period[49m[43m [49m[38;5;241;43m=[39;49m[43m [49m[43mcfg[49m[38;5;241;43m.[39;49m[43mPARAMS[49m[43m[[49m[38;5;124;43m'[39;49m[38;5;124;43mgeodetic_mb_period[39;49m[38;5;124;43m'[39;49m[43m][49m[43m)[49m
[1;32m      2[0m [38;5;66;03m# you could also calibrate on the WGMS data instead[39;00m
[1;32m      3[0m [38;5;66;03m# as this glacier has in-situ MB observations[39;00m
[1;32m      4[0m [38;5;66;03m# mb_calibration_from_wgms_mb(gdir_2, overwrite_gdir=True)[39;00m

File [0;32m/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/oggm/utils/_workflow.py:491[0m, in [0;36mentity_task.__call__.<locals>._entity_task[0;34m(gdir, reset, print_log, return_value, continue_on_error, add_to_log_file, **kwargs)[0m
[1;32m    489[0m     signal[38;5;241m.[39malarm(cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m])
[1;32m    490[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime()
[0;32m--> 491[0m out [38;5;241m=[39m [43mtask_func[49m[43m([49m[43mgdir[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    492[0m ex_t [38;5;241m=[39m time[38;5;241m.[39mtime() [38;5;241m-[39m ex_t
[1;32m    493[0m [38;5;28;01mif[39;00m cfg[38;5;241m.[39mPARAMS[[38;5;124m'[39m[38;5;124mtask_timeout[39m[38;5;124m'[39m] [38;5;241m>[39m [38;5;241m0[39m:

File [0;32m/usr/local/pyenv/versions/3.10.10/lib/python3.10/site-packages/oggm/core/massbalance.py:1784[0m, in [0;36mmb_calibration_from_scalar_mb[0;34m(gdir, ref_mb, ref_mb_err, ref_period, ref_mb_years, write_to_gdir, overwrite_gdir, calibrate_param1, calibrate_param2, calibrate_param3, melt_f, melt_f_min, melt_f_max, prcp_fac, prcp_fac_min, prcp_fac_max, temp_bias, temp_bias_min, temp_bias_max, mb_model_class)[0m
[1;32m   1782[0m [38;5;28;01mexcept[39;00m [38;5;167;01mValueError[39;00m:
[1;32m   1783[0m     [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m calibrate_param2:
[0;32m-> 1784[0m         [38;5;28;01mraise[39;00m [38;5;167;01mRuntimeError[39;00m([38;5;124mf[39m[38;5;124m'[39m[38;5;132;01m{[39;00mgdir[38;5;241m.[39mrgi_id[38;5;132;01m}[39;00m[38;5;124m: ref mb not matched. [39m[38;5;124m'[39m
[1;32m   1785[0m                            [38;5;124mf[39m[38;5;124m'[39m[38;5;124mTry to set calibrate_param2.[39m[38;5;124m'[39m)
[1;32m   1787[0m     [38;5;66;03m# Check which direction we need to go[39;00m
[1;32m   1788[0m     diff_1 [38;5;241m=[39m to_minimize(min_range, calibrate_param1)

[0;31mRuntimeError[0m: RGI60-13.11609: ref mb not matched. Try to set calibrate_param2.
RuntimeError: RGI60-13.11609: ref mb not matched. Try to set calibrate_param2.

